{
  "name": "API",
  "icon": "/http-api.svg",
  "order": 200,
  "enabled": true,
  "connectType": "API",
  "overview": "基于HTTP协议的请求连接",
  "description": "请选择此连接支持的鉴权方式并填入连接鉴权的默认值，当组件的“只读”选项被勾选中时，此组件在凭据创建时只展示不能修改。",
  "authOptions": [
    {
      "name": "APIKEY",
      "code": "api-key",
      "minder": "io.innospots.connector.api.minder.ApiKeyConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "apiKey",
          "name": "api_key",
          "maxSize": 64,
          "placeholder": "鉴权 key",
          "required": true,
          "labelGrid": 4,
          "tips": "鉴权凭证 key",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Normal",
      "code": "normal-api",
      "minder": "io.innospots.connector.api.minder.NormalApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "请求地址",
          "name": "url_address",
          "maxSize": 256,
          "placeholder": "http://ip:port",
          "required": false,
          "tips": "http://ip:端口",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求方法",
          "name": "request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        }
      ]
    },
    {
      "name": "Basic",
      "code": "basic-auth-api",
      "minder": "io.innospots.connector.api.minder.BasicAuthApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "请求地址",
          "name": "url_address",
          "maxSize": 256,
          "placeholder": "http://ip:port",
          "required": false,
          "tips": "http://ip:端口",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求方法",
          "name": "request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        },
        {
          "label": "用户名",
          "name": "user_name",
          "placeholder": "用户名",
          "maxSize": 64,
          "required": true,
          "labelGrid": 4,
          "tips": "用户名",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "密码",
          "name": "password",
          "placeholder": "密码",
          "required": true,
          "labelGrid": 4,
          "tips": "密码",
          "type": "PASSWORD",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Digest",
      "code": "digest-auth-api",
      "minder": "io.innospots.connector.api.minder.DigestAuthApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "请求地址",
          "name": "url_address",
          "maxSize": 256,
          "placeholder": "http://ip:port",
          "required": false,
          "tips": "http://ip:端口",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求方法",
          "name": "request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        },
        {
          "label": "digest_realm",
          "name": "digest_realm",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "digest_realm",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "用户名",
          "name": "user_name",
          "placeholder": "用户名",
          "required": true,
          "labelGrid": 4,
          "tips": "用户名",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "密码",
          "name": "password",
          "placeholder": "密码",
          "required": true,
          "labelGrid": 4,
          "tips": "密码",
          "type": "PASSWORD",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Header Auth",
      "code": "header-auth-api",
      "minder": "io.innospots.connector.api.minder.HeaderAuthApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "请求地址",
          "name": "url_address",
          "maxSize": 256,
          "placeholder": "http://ip:port",
          "required": false,
          "tips": "http://ip:端口",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求方法",
          "name": "request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        },
        {
          "label": "鉴权字段",
          "name": "authority_name",
          "placeholder": "头部鉴权字段",
          "required": true,
          "labelGrid": 4,
          "tips": "字段",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "字段值",
          "name": "authority_value",
          "placeholder": "鉴权字段值",
          "required": true,
          "labelGrid": 4,
          "tips": "字段值",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Oauth2",
      "code": "oauth2-auth-api",
      "minder": "io.innospots.connector.api.minder.OAuth2ApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "Client ID",
          "name": "client_id",
          "placeholder": "input client id",
          "required": true,
          "labelGrid": 4,
          "tips": "oauth client id",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "Client Secret",
          "name": "client_secret",
          "placeholder": "input client secret",
          "required": true,
          "labelGrid": 4,
          "tips": "Client Secret",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "重定向地址",
          "name": "redirect_address",
          "placeholder": "http://ip:port",
          "required": true,
          "labelGrid": 4,
          "tips": "授权回调的域名或IP地址，不需要指定路径",
          "type": "INPUT",
          "expression": "",
          "gridSize": 8,
          "options": []
        },
        {
          "label": "授权地址",
          "name": "authority_url",
          "placeholder": "http://example.com/oauth2.0/authorize",
          "required": true,
          "labelGrid": 4,
          "tips": "OAuth 2.0 的授权地址",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "AccessToken地址",
          "name": "access_token_url",
          "maxSize": 256,
          "placeholder": "input access token url",
          "required": true,
          "labelGrid": 4,
          "tips": "OAuth 2.0 使用 Authentication Code 换取 Access Token 的地址",
          "type": "INPUT",
          "expression": "",
          "gridSize": 8,
          "options": []
        },
        {
          "label": "AccessToken请求方法",
          "name": "access_token_url_request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        },
        {
          "label": "Oauth Scope",
          "name": "scope",
          "placeholder": "scopes",
          "required": false,
          "labelGrid": 4,
          "tips": "OAuth 2.0的scopes",
          "type": "INPUT",
          "expression": "",
          "gridSize": 8,
          "options": []
        },
        {
          "label": "token位置",
          "name": "token_location",
          "placeholder": "",
          "required": false,
          "labelGrid": 4,
          "tips": "token 参数在请求头还是请求参数上",
          "type": "RADIO",
          "expression": "",
          "gridSize": 16,
          "options": [
            {"name":"请求头","value":"HEADER"},
            {"name":"请求参数","value":"PARAM"},
            {"name":"请求体","value":"BODY"}
          ]
        },
        {
          "label": "token参数",
          "name": "token_param",
          "placeholder": "请求参数的名称",
          "required": false,
          "labelGrid": 4,
          "tips": "请求参数的名称",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Bearer Token",
      "code": "bearer_token",
      "minder": "io.innospots.connector.api.minder.BearerTokenAuthConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "Token",
          "name": "bearer_token",
          "placeholder": "Input token",
          "required": true,
          "labelGrid": 4,
          "tips": "bearer token",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Token API",
      "code": "token-auth-api",
      "minder": "io.innospots.connector.api.minder.TokenAuthApiConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "AccessToken地址",
          "name": "access_token_url",
          "placeholder": "http://ip:port",
          "required": true,
          "maxSize": 256,
          "labelGrid": 4,
          "tips": "请求token的地址",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求方法",
          "name": "request_method",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "GET POST",
          "type": "SELECT",
          "value": "POST",
          "defaultValue": "POST",
          "expression": "",
          "gridSize": 16,
          "options": [{
            "name": "GET",
            "value": "GET"
          },{
            "name": "POST",
            "value": "POST"
          }]
        },
        {
          "label": "token位置",
          "name": "token_location",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "token 参数在请求头还是请求参数上",
          "type": "RADIO",
          "expression": "",
          "gridSize": 16,
          "options": [
            {"name":"请求头","value":"HEADER"},
            {"name":"请求参数","value":"PARAM"},
            {"name":"请求体","value":"BODY"}
          ]
        },
        {
          "label": "token参数",
          "name": "token_param",
          "placeholder": "请求参数的名称",
          "required": true,
          "labelGrid": 4,
          "tips": "请求参数的名称",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "TokenPath",
          "name": "token_path",
          "placeholder": "$.access_token",
          "value": "$.access_token",
          "required": false,
          "labelGrid": 4,
          "tips": "返回结果的token所在的JsonPath",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "token过期时间(秒)",
          "name": "expires_in",
          "placeholder": "token过期时间，秒",
          "required": false,
          "labelGrid": 4,
          "tips": "Token过期时间",
          "type": "NUMBER",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求参数",
          "name": "query_param",
          "placeholder": "",
          "required": false,
          "labelGrid": 4,
          "tips": "http query params",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "请求Body",
          "name": "post_body",
          "placeholder": "",
          "required": false,
          "labelGrid": 4,
          "tips": "http post json body",
          "type": "TEXTAREA",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    },
    {
      "name": "Oauth2 client",
      "code": "oauth2-client-api",
      "minder": "io.innospots.connector.api.minder.OAuth2ClientConnectionMinder",
      "defaults": {},
      "elements": [
        {
          "label": "AccessToken地址",
          "name": "access_token_url",
          "placeholder": "http://ip:port",
          "required": true,
          "labelGrid": 4,
          "tips": "获取授权的URL地址",
          "type": "INPUT",
          "expression": "",
          "gridSize": 8,
          "options": []
        },
        {
          "label": "grant_type",
          "name": "grant_type",
          "placeholder": "client_credentials",
          "required": true,
          "labelGrid": 4,
          "tips": "grant_type",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "client_id",
          "name": "client_id",
          "placeholder": "输入 client_id",
          "required": true,
          "labelGrid": 4,
          "tips": "oauth2 client模式的client_id",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "client_secret",
          "name": "client_secret",
          "placeholder": "输入 client_secret",
          "required": true,
          "labelGrid": 4,
          "tips": "oauth2 client模式的client_secret",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        },
        {
          "label": "token位置",
          "name": "token_location",
          "placeholder": "",
          "required": true,
          "labelGrid": 4,
          "tips": "token 参数在请求头还是请求参数上",
          "type": "RADIO",
          "expression": "",
          "gridSize": 16,
          "options": [
            {"name":"请求头","value":"HEADER"},
            {"name":"请求参数","value":"PARAM"},
            {"name":"请求体","value":"BODY"}
          ]
        },
        {
          "label": "token参数",
          "name": "token_param",
          "placeholder": "access_token",
          "defaultValue": "access_token",
          "value": "access_token",
          "required": true,
          "labelGrid": 4,
          "tips": "accessToken的参数名",
          "type": "INPUT",
          "expression": "",
          "gridSize": 16,
          "options": []
        }
      ]
    }
  ]
}